#!/usr/bin/env python

Import('env')

vulkan_lib_path = env.vulkan_SDK_path + r"\Lib"

env.Prepend(LIBS=["vulkan-1"])
env.Prepend(LIBPATH=[vulkan_lib_path])

if env.debug:
    env.Append(LINKFLAGS=['/DEBUG'] )
    env.Append(CCFLAGS=['/Zi'] )
    executable_name += '.debug.exe'

    env.Append(CPPDEFINES={'VULKAN_LD_LIBRARY' : 'LD_LIBRARY_PATH=' + vulkan_lib_path})
    env.Append(CPPDEFINES={'VULKAN_EXPLICIT_LAYERS' : 'VK_LAYER_PATH=' + env.vulkan_SDK_path + '\etc\explicit_layer.d'})

# Compile executable
env.add_program(executable_dir + '/' + executable_name,
            ['main.cpp', 'mesh.cpp', 'texture.cpp', 'VisualServer.cpp'])
