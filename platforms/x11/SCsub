#!/usr/bin/env python

Import('env')

executable_name = env.executable_name

# TODO put this inside a module please
# Define vulkan library
vulkan_lib_path = env.vulkan_SDK_path + r"/lib"
vulkan_library_name = "vulkan"

if env.debug:
    env.Append(CPPDEFINES={'VULKAN_LD_LIBRARY' : 'LD_LIBRARY_PATH="' + vulkan_lib_path + '"'})
    env.Append(CPPDEFINES={'VULKAN_EXPLICIT_LAYERS' : 'VK_LAYER_PATH="' + env.vulkan_SDK_path + '/etc/explicit_layer.d"'})

env.Append(LIBPATH=[vulkan_lib_path])
env.Append(LIBS=[vulkan_library_name])
# ~TODO put this inside a module please

if env.debug:
    executable_name += '.debug'

# Compile executable
env.add_program(env.executable_dir + '/' + executable_name, ['main.cpp'])
